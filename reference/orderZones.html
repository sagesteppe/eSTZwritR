<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Suggest seed zones names, or at least numeric orders, based on input polygons — orderZones • eSTZwritR</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Suggest seed zones names, or at least numeric orders, based on input polygons — orderZones"><meta name="description" content="Given a shapefile of output seed transfer zones, with arbitrarily
assigned class or zone identifiers (e.g. numeric) this function specifies an
order to the zones from 1 to n zones reflecting an increase in humidity. In other
words, this function can assign an order to Seed Zones ID's, where drier zones
have lower numbers.
We have found it very difficult to discuss zones resulting from any PCA type
analysis, or incorporating measurements of phenology etc. Further it is very difficult
for us to estimate which zone a new population would be in, or notice many trends
in the zones at all. This function uses on aridity, as formulated in the Global
Aridity Index Version 3, as the ordering variable for zone numbering. For more
information on GAI please see https://www.nature.com/articles/s41597-022-01493-1.
Results may not always be statistically robust, but hopefully convey some
degree of useful information in their order regarding the range of the zones
across the species."><meta property="og:description" content="Given a shapefile of output seed transfer zones, with arbitrarily
assigned class or zone identifiers (e.g. numeric) this function specifies an
order to the zones from 1 to n zones reflecting an increase in humidity. In other
words, this function can assign an order to Seed Zones ID's, where drier zones
have lower numbers.
We have found it very difficult to discuss zones resulting from any PCA type
analysis, or incorporating measurements of phenology etc. Further it is very difficult
for us to estimate which zone a new population would be in, or notice many trends
in the zones at all. This function uses on aridity, as formulated in the Global
Aridity Index Version 3, as the ordering variable for zone numbering. For more
information on GAI please see https://www.nature.com/articles/s41597-022-01493-1.
Results may not always be statistically robust, but hopefully convey some
degree of useful information in their order regarding the range of the zones
across the species."><meta property="og:image" content="https://sagesteppe.github.io/eSTZwritR/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">eSTZwritR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/eSTZwritR.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Suggest seed zones names, or at least numeric orders, based on input polygons</h1>

      <div class="d-none name"><code>orderZones.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Given a shapefile of output seed transfer zones, with arbitrarily
assigned class or zone identifiers (e.g. numeric) this function specifies an
order to the zones from 1 to n zones reflecting an increase in humidity. In other
words, this function can assign an order to Seed Zones ID's, where drier zones
have lower numbers.</p>
<p>We have found it very difficult to discuss zones resulting from any PCA type
analysis, or incorporating measurements of phenology etc. Further it is very difficult
for us to estimate which zone a new population would be in, or notice many trends
in the zones at all. This function uses on aridity, as formulated in the Global
Aridity Index Version 3, as the ordering variable for zone numbering. For more
information on GAI please see https://www.nature.com/articles/s41597-022-01493-1.</p>
<p>Results may not always be statistically robust, but hopefully convey some
degree of useful information in their order regarding the range of the zones
across the species.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">orderZones</span><span class="op">(</span><span class="va">x</span>, <span class="va">SeedZone</span>, <span class="va">n</span>, <span class="va">rasta</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>an sf/tibble/dataframe containing the spatial data which will be distributed as a final product</p></dd>


<dt id="arg-seedzone">SeedZone<a class="anchor" aria-label="anchor" href="#arg-seedzone"></a></dt>
<dd><p>name of the column containing the provisional SeedZones</p></dd>


<dt id="arg-n">n<a class="anchor" aria-label="anchor" href="#arg-n"></a></dt>
<dd><p>sample size of points across the entire shapefile for calculating an order, defaults to 2500. Note that this shouldn't
exceed the number of raster cells of the products used to generate the stz, or results will be replicated.</p></dd>


<dt id="arg-rasta">rasta<a class="anchor" aria-label="anchor" href="#arg-rasta"></a></dt>
<dd><p>Either a terra::spatrast object or, a character string of either "coarse" or 'cont' - short for contiguous USA.
GAI coarse has been aggregated by a factor of 2 from it's native 1km resolution to 4k, GAI cont is in the native resolution, but only covers the USA and a degree or so of Canada.
If neither of the rasters contained in the package meet your requirements, resubmit the GAI raster.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>additional parameters passed onto sf::st_sample</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list containing three components, 'Reclassified' the shapefile which
was submitted, with the #' seedzone values over written by the ones resulting from the function.
'Summary' a dataframe containing the original zones, and final zones, as well as the calculated median and the number of samples used to calculate the median.
'Plot' a ggpubr boxplot of the results of a kruskal-wallis test amongst seed zones.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">acth7</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html" class="external-link">st_read</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span>package<span class="op">=</span><span class="st">"eSTZwritR"</span><span class="op">)</span>, <span class="st">"extdata"</span>, <span class="st">'ACTH7.gpkg'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/valid.html" class="external-link">st_make_valid</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Reading layer `ACTH7' from data source </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   `/home/runner/work/_temp/Library/eSTZwritR/extdata/ACTH7.gpkg' </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   using driver `GPKG'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Simple feature collection with 4967 features and 4 fields</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geometry type: MULTIPOLYGON</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dimension:     XY</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Bounding box:  xmin: -121.5447 ymin: 36.53208 xmax: -111.0114 ymax: 46.35708</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geodetic CRS:  WGS 84</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">zoneOrder_suggestions</span> <span class="op">&lt;-</span> <span class="fu">orderZones</span><span class="op">(</span><span class="va">acth7</span>, SeedZone <span class="op">=</span> <span class="va">zone</span>, n <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Joining with `by = join_by(zone)`</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">zoneOrder_suggestions</span><span class="op">$</span><span class="va">Summary</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 12 × 5</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     zone SuggestedOrder Zones_fct MedianGAI     n</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>    12              1 12            0.109    63</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>     9              2 9             0.127    39</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>    11              3 11            0.143   199</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>     8              4 8             0.164   334</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>     7              5 7             0.178    68</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>    10              6 10            0.197     7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>     4              7 4             0.202    82</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>     5              8 5             0.208   153</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>     2              9 2             0.225    24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>     1             10 1             0.243     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">11</span>     3             11 3             0.301     7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">12</span>     6             12 6             0.353    18</span>
<span class="r-in"><span><span class="va">zoneOrder_suggestions</span><span class="op">$</span><span class="va">PlotKruskal</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Notch went outside hinges</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Do you want `notch = FALSE`?</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Notch went outside hinges</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Do you want `notch = FALSE`?</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Notch went outside hinges</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Do you want `notch = FALSE`?</span>
<span class="r-plt img"><img src="orderZones-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="va">zoneOrder_suggestions</span><span class="op">$</span><span class="va">PlotDunns</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Notch went outside hinges</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Do you want `notch = FALSE`?</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Notch went outside hinges</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Do you want `notch = FALSE`?</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Notch went outside hinges</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Do you want `notch = FALSE`?</span>
<span class="r-plt img"><img src="orderZones-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">acth7</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Simple feature collection with 4967 features and 4 fields</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geometry type: POLYGON</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dimension:     XY</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Bounding box:  xmin: -121.5447 ymin: 36.53208 xmax: -111.0114 ymax: 46.35708</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geodetic CRS:  WGS 84</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> First 10 features:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ID GRIDCODE area_ha zone                           geom</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   13       42    2200   11 POLYGON ((-117.5447 46.3570...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   19       32     774    8 POLYGON ((-117.4364 46.2820...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   24       42     774   11 POLYGON ((-116.728 46.27374...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   26       42    2916   11 POLYGON ((-117.653 46.29874...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   38       41    1608   10 POLYGON ((-116.7114 46.1987...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   44       41     834   10 POLYGON ((-116.7614 46.2404...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   58       42    1251   11 POLYGON ((-117.8864 46.2320...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   70       32    1371    8 POLYGON ((-117.4447 46.2154...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9   76       42    3930   11 POLYGON ((-117.453 46.21541...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 107       31    1490    7 POLYGON ((-116.8614 46.1987...</span>
<span class="r-in"><span><span class="va">zoneOrder_suggestions</span><span class="op">$</span><span class="va">Reclassified</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Simple feature collection with 4967 features and 4 fields</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geometry type: POLYGON</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dimension:     XY</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Bounding box:  xmin: -121.5447 ymin: 36.53208 xmax: -111.0114 ymax: 46.35708</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geodetic CRS:  WGS 84</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> First 10 features:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ID GRIDCODE area_ha zone                           geom</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   13       42    2200    3 POLYGON ((-117.5447 46.3570...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   19       32     774    4 POLYGON ((-117.4364 46.2820...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   24       42     774    3 POLYGON ((-116.728 46.27374...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   26       42    2916    3 POLYGON ((-117.653 46.29874...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   38       41    1608    6 POLYGON ((-116.7114 46.1987...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   44       41     834    6 POLYGON ((-116.7614 46.2404...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   58       42    1251    3 POLYGON ((-117.8864 46.2320...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   70       32    1371    4 POLYGON ((-117.4447 46.2154...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9   76       42    3930    3 POLYGON ((-117.453 46.21541...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 107       31    1490    5 POLYGON ((-116.8614 46.1987...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># if you want to see the extent of the continental raster</span></span></span>
<span class="r-in"><span><span class="co"># note that the Olympic peninsula and BC get so much rain they essentially</span></span></span>
<span class="r-in"><span><span class="co"># swamps the colors of all other areas in plots.</span></span></span>
<span class="r-in"><span><span class="va">cont</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/rast.html" class="external-link">rast</a></span><span class="op">(</span></span></span>
<span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span>package<span class="op">=</span><span class="st">"eSTZwritR"</span><span class="op">)</span>, <span class="st">"extdata"</span>, <span class="st">'GAI-cont.tif'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">cont</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="orderZones-3.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Brianna Wieferich, Reed Benkendorf.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

