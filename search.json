[{"path":"https://sagesteppe.github.io/eSTZwritR/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 eSTZwritR authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://sagesteppe.github.io/eSTZwritR/articles/eSTZwritR.html","id":"region-coding","dir":"Articles","previous_headings":"","what":"Region Coding","title":"eSTZwritR","text":"first step using package determining Department Interior regions data product mostly associated . zones listed file comprehensive, restrict number listed areas two zones. However, give OK indication roughly spatial extent data product covers. SuggestedName vector contains name function proposes use can look regions (well small ones may missed) seed transfer zones across looking second item list RegionsCovered. see mostly cover CBG region CPN region, coverage UCB region.","code":"rc <- regionCoding(acth7) str(rc) # the returned data is a list of two objects, a vector and a data frame.  #> List of 2 #>  $ SuggestedName : chr \"CGB-CPN\" #>  $ RegionsCovered:'data.frame':  3 obs. of  2 variables: #>   ..$ REG_ABB: chr [1:3] \"CGB\" \"CPN\" \"UCB\" #>   ..$ n      : int [1:3] 447 441 125  # Either format works to extract the data from the list. rc$SuggestedName == rc[['SuggestedName']]  #> [1] TRUE # I use this method (less typing), even though I like the look of the other method more...  rc$SuggestedName  #> [1] \"CGB-CPN\" knitr::kable(rc$RegionsCovered)"},{"path":"https://sagesteppe.github.io/eSTZwritR/articles/eSTZwritR.html","id":"orderzones","dir":"Articles","previous_headings":"","what":"orderZones","title":"eSTZwritR","text":"zones variety data products either implicit ordering, rather complex ordering. situations can difficult determine zones geographic environmental proximity . function users simple method suggest order numbering seed transfer zones instances. take little bit time run, number points used calculating order set low value, encourage increase value (say 5000) actually determining order distributing data set. Obviously, can always get order seed zones - actually merit order?  can check results Kruskal-Wallis test implemented using ggpubr. First visual impressions give indication trend present throughout data, differences groups appears negligible. global trend exists, magnifying lens, relationships nuanced. opinion, global trend evidence enough, using ordering criterion like useful simply trying make sense categorical features. results Kruskal-Wallis test (one-way ANOVA ranks) indicates strong evidence least one group differs others, .e. drawn distribution.  squished plot depicted results pairwise comparisons seed transfer zones using Dunn’s test, Holm’s p-adjustment method multiple comparisons. line missing two groups, indicates p-value > 0.05 exists groups, showing little evidence differences . presence line indicates p-value beneath 0.05 present, see ??stat_pwc details coding. post-hoc test shows groups either end aridity spectrum differ . However, little evidence groups center spectrum differ one another. evidence humid groups differ one another. reiterate initial impression plots, continuum exists seed transfer zones. zones markedly different others, able run . Finally, can make maps see seed zones differ - intuitive sensibility ?  differences loud, given difficulty interpreting habitat basin range province, showcase general trend arid southern reaches, towards humid areas along mountains central Oregon. lieu sensible readily interpretable set ordering data improvement? mind yes, others free disagree. can now apply modifications input data, fact, ’ll just overwrite original ACTH7 variable output data function. Note function uses Kruskal-Wallis tests default, even though case probably swing ANOVA due high number groups, high number data points per group able generate. particular eSTZ example chosen bit complex products, don’t think swapping ANOVA function warranted.","code":"oz <- orderZones(acth7, SeedZone = zone, n = 1000) #> Joining with `by = join_by(zone)`  # oz$Summary # i use kable so this looks nice online,  # just run oz$Summary to print to console.  knitr::kable(oz$Summary) oz$PlotKruskal oz$PlotDunns p1 <- ggplot(data = acth7, aes(fill = zone)) +    geom_sf(color = NA) +    theme_void() +    scale_fill_distiller(palette = \"RdYlGn\", direction = 1) +    labs(title = 'Original')  p2 <- ggplot(data = oz$Reclassified, aes(fill = zone)) +    geom_sf(color = NA) +    theme_void() +    scale_fill_distiller(palette = \"RdYlGn\", direction = 1) +    labs(title = 'Ordered')  p1 + p2 rm(p1, p2) acth7 <- oz$Reclassified"},{"path":[]},{"path":"https://sagesteppe.github.io/eSTZwritR/articles/eSTZwritR.html","id":"vector-data-field-attibutes-","dir":"Articles","previous_headings":"","what":"Vector Data Field Attibutes.","title":"eSTZwritR","text":"Many data products inspected interacted human users, cater humans just computers. One important decisions can make enhance utility ‘order’ fields spatial data, apply consistent - hence predictable - naming structure. image four fields (ID, SeedZone, SZName, AreaAcres) consider mandatory file, two supplementary fields certain users may find useful (BIO1_R, BIO2_mean). guidance naming structuring shapefiles provided …. default try remove columns, way don’t backtrack recompute variable. Please consider removing column , rename necessary. ’ll re-familiarize chunk . can also make problem little difficult see function returns See function can make modifications simple abbreviations anticipate exist wild (range -> R, avg -> mean), much BIO9_m, know - mean? max? min? Please note function emit warning BIO column unrecognized, please refer rules output determine need manually alter values readily interpretable users.","code":"acth7_clean <- fieldsmakR(acth7, SeedZone = 'zone') #> There is a column(s), `area_ha`, which we can't figure out the purpose of. #>       It will be returned here, but FYI a list of bioclim variables is here https://www.worldclim.org/data/bioclim.html. head(acth7_clean) #> Simple feature collection with 6 features and 5 fields #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: -119.353 ymin: 41.63208 xmax: -114.7947 ymax: 41.89874 #> Geodetic CRS:  WGS 84 #> # A tibble: 6 × 6 #>      ID SeedZone SZName AreaAcres area_ha                               geometry #>   <int>    <int>  <int>     <dbl>   <dbl>                          <POLYGON [°]> #> 1     1        9      9     2058.    833. ((-119.328 41.87374, -119.3364 41.873… #> 2     2        9      9     1899.    769. ((-114.8114 41.86541, -114.8197 41.86… #> 3     3        9      9     2215.    896. ((-116.303 41.89874, -116.3114 41.898… #> 4     4        9      9     1745.    706. ((-119.2364 41.70708, -119.2364 41.71… #> 5     5        9      9     2381.    964. ((-115.0197 41.67374, -115.0197 41.66… #> 6     6        9      9     9813.   3971. ((-114.9197 41.89874, -114.9197 41.89… acth7_stuff <- acth7 |>   dplyr::mutate(     bio1_range = runif(n = dplyr::n()),      bio12_avg = runif(n = dplyr::n()),      bio9_m = runif(n = dplyr::n()),    )  fieldsmakR(acth7_stuff, SeedZone = 'zone') #> There is a column(s), `area_ha`, which we can't figure out the purpose of. #>       It will be returned here, but FYI a list of bioclim variables is here https://www.worldclim.org/data/bioclim.html. #> Simple feature collection with 3380 features and 8 fields #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: -121.5447 ymin: 36.53208 xmax: -111.0114 ymax: 46.35708 #> Geodetic CRS:  WGS 84 #> # A tibble: 3,380 × 9 #>       ID SeedZone SZName AreaAcres BIO1_R  BIO9_m BIO12_mean area_ha #>    <int>    <int>  <int>     <dbl>  <dbl>   <dbl>      <dbl>   <dbl> #>  1     1        9      9     2058. 0.0688 0.913        0.749    833. #>  2     2        9      9     1899. 0.446  0.147        0.926    769. #>  3     3        9      9     2215. 0.876  0.0125       0.697    896. #>  4     4        9      9     1745. 0.795  0.470        0.710    706. #>  5     5        9      9     2381. 0.997  0.00921      0.740    964. #>  6     6        9      9     9813. 0.881  0.928        0.125   3971. #>  7     7        9      9     1427. 0.185  0.0941       0.838    577. #>  8     8        9      9     5533. 0.642  0.663        0.705   2239. #>  9     9        9      9     1894. 0.849  0.869        0.846    767. #> 10    10        9      9     2211. 0.409  0.754        0.482    895. #> # ℹ 3,370 more rows #> # ℹ 1 more variable: geometry <POLYGON [°]> rm(acth7_stuff, acth7)"},{"path":"https://sagesteppe.github.io/eSTZwritR/articles/eSTZwritR.html","id":"directory-folder-structure-file-naming","dir":"Articles","previous_headings":"","what":"Directory (Folder) Structure & File Naming","title":"eSTZwritR","text":"","code":"dirmakR(   outpath = '~/Documents/EmpiricalSeedZones',    sci_name = 'Eriocoma_thurberiana',    x = acth7_clean,    regioncode = rc,   nrcs_code = 'ACHT7',   estz_type = 'cg',   overwrite = TRUE )"},{"path":"https://sagesteppe.github.io/eSTZwritR/articles/eSTZwritR.html","id":"maps","dir":"Articles","previous_headings":"","what":"Maps","title":"eSTZwritR","text":"Maps can oftentimes used lieu actual spatial data product many applications. also use frequently verify values ‘mapped’ correctly GIS, problem now alleviated defined field naming conventions. maps eSTZwritR makes meant , well , full page PDFs either landscape portrait orientation. also return map R plot pane, much smaller format map intended used . actually using function, focus altering maps appearance PDF’s leave something desired, examples viewing pane. code save map simple , let one arguments revert ’s boolean defaults (save == TRUE), supply output directory outdir save map . Note ancillary information projects go Information sub-directory. call show viewing pane, definitely judge format. Save copy locally scrutinizing , takes change ‘save = FALSE’ TRUE code chunk . show saved PDF version map . definitely strange format view , way can figure get loaded vignette pass R package checks. firefox, least, can download map viewer want able zoom . Pre-rendered PDF map eSTZ","code":"map <- mapmakR(   acth7_clean,   species = 'Eriocoma thurberiana', # this will become the title.    save = FALSE, # whether to write to disk, defaults to TRUE   landscape = FALSE, # defaults ot TRUE, we want a landscape page   ecoregions = TRUE, # whether to add unlabeled L4 ecoregions or not.    cities = TRUE, # whether to add some cities to the map   caption =      'Data from Johnson et al. 2017. https://doi.org/10.1016/j.rama.2017.01.004'   # Cite where the data comes from!!! A doi would be great too ;-) ! ) mapmakR(acth7_clean,   species = 'Eriocoma thurberiana', # this will become the title.    outdir = '~/Documents/EmpiricalSeedZones/Eriocoma_thurberianacgSTZ/Information',   landscape = FALSE, # defaults ot TRUE, we want a landscape page   caption =      'Data from Johnson et al. 2017. https://doi.org/10.1016/j.rama.2017.01.004'   # Cite where the data comes from!!! A doi would be great too ;-) ! ) map"},{"path":"https://sagesteppe.github.io/eSTZwritR/articles/eSTZwritR.html","id":"bonus-activity---naming-the-seed-zones","dir":"Articles","previous_headings":"","what":"Bonus Activity - Naming the Seed Zones!","title":"eSTZwritR","text":"One suggestion within paper published stemming project individual eSTZs seed zones colloquial name communicating broadly. individuals generally find easier remember phrases, simply numbers, even ordered aridity gradient. section slightly wonky, going open cleaned set vector data created common Geographic Information System (GIS) Graphical User Interface (GUI). several good GIS GUI, ues one recommend every single time, QGIS. QGIS totally free, works essentially operating systems flavours linux, kind like ESRI products like weren’t terrible. want download QGIS feel free , ’s available , othewise can just read text ’ll get idea mean seed zone names.","code":""},{"path":"https://sagesteppe.github.io/eSTZwritR/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Brianna Wieferich. Author. Reed Benkendorf. Author, maintainer.","code":""},{"path":"https://sagesteppe.github.io/eSTZwritR/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Wieferich B, Benkendorf R (2024). eSTZwritR: simple package documenting sharing empirical Seed Transfer Zones (eSTZs). R package version 0.0.0.9000, https://sagesteppe.github.io/eSTZwritR/.","code":"@Manual{,   title = {eSTZwritR: A simple package for documenting and sharing empirical Seed Transfer Zones (eSTZs)},   author = {Brianna Wieferich and Reed Benkendorf},   year = {2024},   note = {R package version 0.0.0.9000},   url = {https://sagesteppe.github.io/eSTZwritR/}, }"},{"path":[]},{"path":"https://sagesteppe.github.io/eSTZwritR/index.html","id":"description","dir":"","previous_headings":"","what":"Description","title":"A simple package for documenting and sharing empirical Seed Transfer Zones (eSTZs)","text":"R package applying standardized file naming, directory structure, mapping, metadata conventions empirical Seed Transfer Zones (eSTZs).","code":""},{"path":"https://sagesteppe.github.io/eSTZwritR/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"A simple package for documenting and sharing empirical Seed Transfer Zones (eSTZs)","text":"goal package standardize eSTZ documentation accelerate sharing resources among natural resource professionals.","code":""},{"path":"https://sagesteppe.github.io/eSTZwritR/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"A simple package for documenting and sharing empirical Seed Transfer Zones (eSTZs)","text":"eSTZwritR available github. can installed using remotes devtools like : installed can attached use like package github CRAN","code":"install.packages('devtools') devtools::install_github('sagesteppe/eSTZwritR') library(eSTZwritR)"},{"path":"https://sagesteppe.github.io/eSTZwritR/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"A simple package for documenting and sharing empirical Seed Transfer Zones (eSTZs)","text":"eSTZwritR requires five user-facing functions implement data sharing conventions.","code":""},{"path":"https://sagesteppe.github.io/eSTZwritR/index.html","id":"documentation","dir":"","previous_headings":"","what":"Documentation","title":"A simple package for documenting and sharing empirical Seed Transfer Zones (eSTZs)","text":"paper describing impetus behind creation eSTZwritR, broadly outlining ’s functionality available (COMING SOON!). vignette showcasing usage package available .","code":""},{"path":"https://sagesteppe.github.io/eSTZwritR/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"A simple package for documenting and sharing empirical Seed Transfer Zones (eSTZs)","text":"Wieferich, B., Benkendorf, R.C. 2024. eSTZwritR bibtex entry latex users : @Misc{wieferich2024estz, title = {eSTZwritR}, author = {Wieferich, B Benkendorf R.C.}, year = {2024}, url = {https://github.com/sagesteppe/eSTZwritR}, } use R display citations using","code":"citations('eSTZwritR')"},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/Carto_cities.html","id":null,"dir":"Reference","previous_headings":"","what":"Cities for cartography — Carto_cities","title":"Cities for cartography — Carto_cities","text":"data set curated feature cities can helpful contextualizing locations STZ map. sourced https://simplemaps.com/data/us-cities, subst script available raw-data folder 'EssentialCities.R'.","code":""},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/Carto_cities.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Cities for cartography — Carto_cities","text":"data frame/tibble/sf 2 columns City Full name city. State Abbreviation State Name, using FIPS code. geometry sf geometry column","code":""},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/Carto_cities.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Cities for cartography — Carto_cities","text":"","code":"cities.sf <- sf::st_read( file.path(   system.file(package ='eSTZwritR'), 'extdata', 'Carto_cities.gpkg') ) #> Reading layer `Carto_cities' from data source  #>   `/home/runner/work/_temp/Library/eSTZwritR/extdata/Carto_cities.gpkg'  #>   using driver `GPKG' #> Simple feature collection with 246 features and 2 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: -161.7917 ymin: 18.3985 xmax: -66.061 ymax: 64.8353 #> Geodetic CRS:  WGS 84 plot(cities.sf[,1])"},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/GAI-coarse.html","id":null,"dir":"Reference","previous_headings":"","what":"A raster of Global Aridity Index version 3 — GAI-coarse","title":"A raster of Global Aridity Index version 3 — GAI-coarse","text":"data set Zomer et al. 2022, modified sub-setting US territories, making coarse (factor 2). Zomer, Robert J., Jianchu Xu, Antonio Trabucco. \"Version 3 global aridity index potential evapotranspiration database.\" Scientific Data 9.1 (2022): 409.","code":""},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/GAI-coarse.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"A raster of Global Aridity Index version 3 — GAI-coarse","text":"raster data set GAI GAI stored integer, needs divided 10000 receover decimal places.","code":""},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/GAI-coarse.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"A raster of Global Aridity Index version 3 — GAI-coarse","text":"","code":"r <- terra::rast( file.path(    system.file(package=\"eSTZwritR\"),  \"extdata\", 'GAI-coarse.tif'  ) ) terra::plot(r/10000, col = terra::map.pal('ryg'))  # rainforests swamp the palette! terra::plot(sqrt(r/10000), col = terra::map.pal('ryg'))  # better visualization of mid points terra::plot(log(r/10000), col = terra::map.pal('ryg'))   # better vis of low end"},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/GAI-cont.html","id":null,"dir":"Reference","previous_headings":"","what":"A raster of Global Aridity Index version 3 — GAI-cont","title":"A raster of Global Aridity Index version 3 — GAI-cont","text":"data set Zomer et al. 2022, modified sub-setting contiguous USA. Zomer, Robert J., Jianchu Xu, Antonio Trabucco. \"Version 3 global aridity index potential evapotranspiration database.\" Scientific Data 9.1 (2022): 409.","code":""},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/GAI-cont.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"A raster of Global Aridity Index version 3 — GAI-cont","text":"raster data set GAI GAI stored integer, needs divided 10000 receover decimal places.","code":""},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/GAI-cont.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"A raster of Global Aridity Index version 3 — GAI-cont","text":"","code":"r <- terra::rast(  file.path(    system.file(package=\"eSTZwritR\"),  \"extdata\", 'GAI-cont.tif'  ) ) terra::plot(r/10000, col = terra::map.pal('ryg'))  # rainforests swamp the palette! terra::plot(sqrt(r/10000), col = terra::map.pal('ryg'))   # better visualization of mid points terra::plot(log(r/10000), col = terra::map.pal('ryg'))  # better vis of low end"},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/acth7.html","id":null,"dir":"Reference","previous_headings":"","what":"An empirical seed transfer zone — acth7","title":"An empirical seed transfer zone — acth7","text":"data set Johnson et al. 2017, slightly modified us. eSTZ Eriocoma thurberiana. Johnson, R. C., E. . Leger, Ken Vance-Borland. \"Genecology Thurber’s Needlegrass (Achnatherum thurberianum [Piper] Barkworth) Western United States.\" Rangeland Ecology & Management 70.4 (2017): 509-517.","code":""},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/acth7.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"An empirical seed transfer zone — acth7","text":"data frame/tibble/sf 2 columns ID unique ID polygon, note includes gaps numbering. GRIDCODE ESRI raster, classification output used creating product. area_ha ESRI calulcated area polygon. zone STZ defined authors GRIDCODE. geometry sf geometry column","code":""},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/acth7.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"An empirical seed transfer zone — acth7","text":"","code":"acth7 <- sf::st_read(file.path(    system.file(package=\"eSTZwritR\"), \"extdata\", 'ACTH7.gpkg') ) #> Reading layer `ACTH7' from data source  #>   `/home/runner/work/_temp/Library/eSTZwritR/extdata/ACTH7.gpkg'  #>   using driver `GPKG' #> Simple feature collection with 4967 features and 4 fields #> Geometry type: MULTIPOLYGON #> Dimension:     XY #> Bounding box:  xmin: -121.5447 ymin: 36.53208 xmax: -111.0114 ymax: 46.35708 #> Geodetic CRS:  WGS 84 plot(acth7[,4])"},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/buffR.html","id":null,"dir":"Reference","previous_headings":"","what":"buffR — buffR","title":"buffR — buffR","text":"buffer input STZ determine map extents","code":""},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/buffR.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"buffR — buffR","text":"","code":"buffR(x, buf_prcnt)"},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/buffR.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"buffR — buffR","text":"x input STZ, vector raster data -vector much preferred speed. buf_prcnt amount buffering add map, defaults 0.005 0.5%","code":""},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/buffR.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"buffR — buffR","text":"bounding box around eSTZ product specified buffer amount.","code":""},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/countries.html","id":null,"dir":"Reference","previous_headings":"","what":"Borders of three North American nations — countries","title":"Borders of three North American nations — countries","text":"data set contains borders three North American countries. used within mapmaker function showcase edges landmasses borders United States end. data subsetted 'spData' r package.","code":""},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/countries.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Borders of three North American nations — countries","text":"","code":"countries"},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/countries.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Borders of three North American nations — countries","text":"data frame/tibble/sf 3 rows 2 columns: name_long Country name geom sf geometry column","code":""},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/countries.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Borders of three North American nations — countries","text":"","code":"plot(countries)"},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/dirmakR.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a directory and write out all empirical stz data — dirmakR","title":"Create a directory and write out all empirical stz data — dirmakR","text":"Create directory following standard conventions ensure appropriate placement subdirectories naming conventions.","code":""},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/dirmakR.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a directory and write out all empirical stz data — dirmakR","text":"","code":"dirmakR(outpath, sci_name, x, nrcs_code, regioncode, overwrite, estz_type)"},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/dirmakR.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a directory and write out all empirical stz data — dirmakR","text":"outpath directory folder final products placed. Note need create independent folder hold , included product. sci_name scientific name taxon x Vector data product. nrcs_code https://plants.usda.gov/ regioncode character vector string name , output regioncoding overwrite whether overwrite existing directory (already exists) estz_type one 'lg' landscape genetics (genetic), 'cg' common garden, 'cm' climate matched. multiple approaches choose robust method, e.g. 'cg' > 'lg' > 'cm'","code":""},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/dirmakR.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a directory and write out all empirical stz data — dirmakR","text":"","code":"acth7 <- sf::st_read(file.path(   system.file(package=\"eSTZwritR\"), \"extdata\", 'ACTH7.gpkg') ) #> Reading layer `ACTH7' from data source  #>   `/home/runner/work/_temp/Library/eSTZwritR/extdata/ACTH7.gpkg'  #>   using driver `GPKG' #> Simple feature collection with 4967 features and 4 fields #> Geometry type: MULTIPOLYGON #> Dimension:     XY #> Bounding box:  xmin: -121.5447 ymin: 36.53208 xmax: -111.0114 ymax: 46.35708 #> Geodetic CRS:  WGS 84 dirmakR('.',   'Eriocoma thurberiana',    acth7,    nrcs_code = 'ACHT7',    regioncode =  'CGB-CPN',    estz_type = 'cg'    ) #> Writing layer `ACHT7_cgSTZ_CGB-CPN' to data source  #>   `./Eriocoma_thurberianacgSTZ/Data/Vector/ACHT7_cgSTZ_CGB-CPN.shp' using driver `ESRI Shapefile' #> Writing 4967 features with 4 fields and geometry type Polygon."},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/fieldsmakR.html","id":null,"dir":"Reference","previous_headings":"","what":"Ensure that all fields in a shapefile are named correctly, and in the right order. — fieldsmakR","title":"Ensure that all fields in a shapefile are named correctly, and in the right order. — fieldsmakR","text":"Appropriately order fields shapefile ensure consistent naming .","code":""},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/fieldsmakR.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Ensure that all fields in a shapefile are named correctly, and in the right order. — fieldsmakR","text":"","code":"fieldsmakR(x, SeedZone, ID, SZName, AreaAcres)"},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/fieldsmakR.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Ensure that all fields in a shapefile are named correctly, and in the right order. — fieldsmakR","text":"x sf/tibble/dataframe containing spatial data distributed final product SeedZone string containing numeric SeedZone code, supplied function fail. ID string specifying columns names, supplied create one. SZName string containing name SeedZone column used conversation, 'Productivity high, Phenology late' 'SW midmontane', supplied copy 'SeedZone' column values AreaAcres string containing name column containing area measurement, supplied value calculated using epsg:5070","code":""},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/fieldsmakR.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Ensure that all fields in a shapefile are named correctly, and in the right order. — fieldsmakR","text":"","code":"if (FALSE) { # \\dontrun{ df <- data.frame(   id = 1:10,   gridcode = sample(1:10, replace = FALSE),   zone = sample(LETTERS, 10, replace = FALSE),   bio1_sd = runif(10, 5, 7),   bio8_mean = runif(10, 5, 7) )  nc <- sf::st_read(system.file(\"shape/nc.shp\", package=\"sf\"), quiet = TRUE) |>  dplyr::select(geometry) |>  dplyr::slice_head(n = 10) |>  dplyr::bind_cols(df, )  ob <- fieldsmakR(nc, SeedZone = 'gridcode')  dplyr::select(ob, -zone) # easily remove like so. } # }"},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/mapmakR.html","id":null,"dir":"Reference","previous_headings":"","what":"Create standardized maps for empirical seed transfer zones — mapmakR","title":"Create standardized maps for empirical seed transfer zones — mapmakR","text":"Create full page PDF map distributing eSTZ quick refernce users. function also return map ggplot object want make modifications . maps intended seen large format size, may suitable including manuscript publication, outsize appendeix online references. like components map, want try make smaller format, can rip source code go ; worry map simple much figure . can visualize source code typing either: mapmakR (without function argument) R console, intuitive format Github : https://github.com/sagesteppe/eSTZwritR/blob/main/R/mapmakR.R .","code":""},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/mapmakR.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create standardized maps for empirical seed transfer zones — mapmakR","text":"","code":"mapmakR(   x,   species,   save,   outdir,   ecoregions,   cities,   landscape,   caption,   filetype,   buf_prcnt )"},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/mapmakR.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create standardized maps for empirical seed transfer zones — mapmakR","text":"x vector (e.g. shapefile) raster dataset plot, note vector data coerced raster plotting. species Character string, name species mapped. save Boolean, whether save file . Defaults TRUE. outdir Character string, directory save map . Defaults current working directory. ecoregions Boolean, whether draw ecoregions . Defaults TRUE. cities Boolean, whether draw cities , Defaults TRUE. landscape Boolean, whether draw map landscape orientation . Defaults TRUE caption Character string, text caption. best mention published product related data set. Defaults omitting caption, except data sources (omernik cities used), coordinate reference system information. filetype Character string, defaults 'pdf' saving pdf page distribution data, buf_prcnt amount buffer extent around focal taxons range . Defaults 0.025 oor 2.5% 'png' (format supported ?ggsave) can used create map embedding publication poster.","code":""},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/mapmakR.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create standardized maps for empirical seed transfer zones — mapmakR","text":"Writes PDF (specified filetype) disk, returns ggplot object console allowing user modify purposes.","code":""},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/mapmakR.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create standardized maps for empirical seed transfer zones — mapmakR","text":"","code":"#library(eSTZwritR) acth7 <- sf::st_read(file.path(   system.file(package=\"eSTZwritR\"), \"extdata\", 'ACTH7.gpkg') ) #> Reading layer `ACTH7' from data source  #>   `/home/runner/work/_temp/Library/eSTZwritR/extdata/ACTH7.gpkg'  #>   using driver `GPKG' #> Simple feature collection with 4967 features and 4 fields #> Geometry type: MULTIPOLYGON #> Dimension:     XY #> Bounding box:  xmin: -121.5447 ymin: 36.53208 xmax: -111.0114 ymax: 46.35708 #> Geodetic CRS:  WGS 84  mapmakR(acth7,  species = 'Eriocoma thurberiana',  save = FALSE,  landscape = FALSE,  ecoregions = TRUE,  cities = TRUE,  caption = 'Data from Johnson et al. 2017. https://doi.org/10.1016/j.rama.2017.01.004'  ) #> Error in ggplot2::geom_sf(data = x, ggplot2::aes(fill = factor(SeedZone)),     color = NA, inherit.aes = TRUE): Problem while computing aesthetics. #> ℹ Error occurred in the 1st layer. #> Caused by error: #> ! object 'SeedZone' not found"},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/omernik.html","id":null,"dir":"Reference","previous_headings":"","what":"Omernik level 3 ecoregions of the USA — omernik","title":"Omernik level 3 ecoregions of the USA — omernik","text":"data set contains , highly simplified, level 3 ecoregions USA. data simplified save space, use cartographic, analytical purposes. imported directly silently mapmaker function contextualize eSTZ border. data sourced United States Geological Survey (usgs) https://www.sciencebase.gov/catalog/item/55c77f7be4b08400b1fd82d4","code":""},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/omernik.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Omernik level 3 ecoregions of the USA — omernik","text":"","code":"omernik"},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/omernik.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Omernik level 3 ecoregions of the USA — omernik","text":"data frame/tibble/sf 3 rows 2 columns: US_L3CODE Ecoregion code US_L3NAME Full ecoregion name geometry sf geometry column","code":""},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/omernik.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Omernik level 3 ecoregions of the USA — omernik","text":"","code":"plot(omernik[,1])"},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/orderZones.html","id":null,"dir":"Reference","previous_headings":"","what":"Suggest seed zones names, or at least numeric orders, based on input polygons — orderZones","title":"Suggest seed zones names, or at least numeric orders, based on input polygons — orderZones","text":"Given shapefile output seed transfer zones, arbitrarily assigned class zone identifiers (e.g. numeric) function specifies order zones 1 n zones reflecting increase humidity. words, function can assign order Seed Zones ID's, drier zones lower numbers. found difficult discuss zones resulting PCA type analysis, incorporating measurements phenology etc. difficult us estimate zone new population , notice many trends zones . function uses aridity, formulated Global Aridity Index Version 3, ordering variable zone numbering. information GAI please see https://www.nature.com/articles/s41597-022-01493-1. Results may always statistically robust, hopefully convey degree useful information order regarding range zones across species.","code":""},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/orderZones.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Suggest seed zones names, or at least numeric orders, based on input polygons — orderZones","text":"","code":"orderZones(x, SeedZone, n, rasta, ...)"},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/orderZones.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Suggest seed zones names, or at least numeric orders, based on input polygons — orderZones","text":"x sf/tibble/dataframe containing spatial data distributed final product SeedZone name column containing provisional SeedZones n sample size points across entire shapefile calculating order, defaults 2500. Note exceed number raster cells products used generate stz, results replicated. rasta Either terra::spatrast object , character string either \"coarse\" 'cont' - short contiguous USA. GAI coarse aggregated factor 2 native 1km resolution 4k, GAI cont native resolution, covers USA degree Canada. neither rasters contained package meet requirements, resubmit GAI raster. ... additional parameters passed onto sf::st_sample","code":""},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/orderZones.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Suggest seed zones names, or at least numeric orders, based on input polygons — orderZones","text":"list containing three components, 'Reclassified' shapefile submitted, #' seedzone values written ones resulting function. 'Summary' dataframe containing original zones, final zones, well calculated median number samples used calculate median. 'Plot' ggpubr boxplot results kruskal-wallis test amongst seed zones.","code":""},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/orderZones.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Suggest seed zones names, or at least numeric orders, based on input polygons — orderZones","text":"","code":"acth7 <- sf::st_read(file.path(   system.file(package=\"eSTZwritR\"), \"extdata\", 'ACTH7.gpkg') ) |>   sf::st_make_valid() #> Reading layer `ACTH7' from data source  #>   `/home/runner/work/_temp/Library/eSTZwritR/extdata/ACTH7.gpkg'  #>   using driver `GPKG' #> Simple feature collection with 4967 features and 4 fields #> Geometry type: MULTIPOLYGON #> Dimension:     XY #> Bounding box:  xmin: -121.5447 ymin: 36.53208 xmax: -111.0114 ymax: 46.35708 #> Geodetic CRS:  WGS 84  zoneOrder_suggestions <- orderZones(acth7, SeedZone = zone, n = 1000) #> Joining with `by = join_by(zone)`  zoneOrder_suggestions$Summary #> # A tibble: 12 × 5 #>     zone SuggestedOrder Zones_fct MedianGAI     n #>    <dbl>          <int> <fct>         <dbl> <int> #>  1    12              1 12            0.108    61 #>  2     9              2 9             0.128    40 #>  3    11              3 11            0.143   200 #>  4     8              4 8             0.164   333 #>  5     7              5 7             0.178    68 #>  6    10              6 10            0.197     7 #>  7     4              7 4             0.202    83 #>  8     5              8 5             0.208   153 #>  9     2              9 2             0.225    24 #> 10     1             10 1             0.243     4 #> 11     3             11 3             0.301     7 #> 12     6             12 6             0.353    18 zoneOrder_suggestions$PlotKruskal #> Notch went outside hinges #> ℹ Do you want `notch = FALSE`? #> Notch went outside hinges #> ℹ Do you want `notch = FALSE`? #> Notch went outside hinges #> ℹ Do you want `notch = FALSE`?  zoneOrder_suggestions$PlotDunns #> Notch went outside hinges #> ℹ Do you want `notch = FALSE`? #> Notch went outside hinges #> ℹ Do you want `notch = FALSE`? #> Notch went outside hinges #> ℹ Do you want `notch = FALSE`?   acth7 #> Simple feature collection with 4967 features and 4 fields #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: -121.5447 ymin: 36.53208 xmax: -111.0114 ymax: 46.35708 #> Geodetic CRS:  WGS 84 #> First 10 features: #>     ID GRIDCODE area_ha zone                           geom #> 1   13       42    2200   11 POLYGON ((-117.5447 46.3570... #> 2   19       32     774    8 POLYGON ((-117.4364 46.2820... #> 3   24       42     774   11 POLYGON ((-116.728 46.27374... #> 4   26       42    2916   11 POLYGON ((-117.653 46.29874... #> 5   38       41    1608   10 POLYGON ((-116.7114 46.1987... #> 6   44       41     834   10 POLYGON ((-116.7614 46.2404... #> 7   58       42    1251   11 POLYGON ((-117.8864 46.2320... #> 8   70       32    1371    8 POLYGON ((-117.4447 46.2154... #> 9   76       42    3930   11 POLYGON ((-117.453 46.21541... #> 10 107       31    1490    7 POLYGON ((-116.8614 46.1987... zoneOrder_suggestions$Reclassified #> Simple feature collection with 4967 features and 4 fields #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: -121.5447 ymin: 36.53208 xmax: -111.0114 ymax: 46.35708 #> Geodetic CRS:  WGS 84 #> First 10 features: #>     ID GRIDCODE area_ha zone                           geom #> 1   13       42    2200    3 POLYGON ((-117.5447 46.3570... #> 2   19       32     774    4 POLYGON ((-117.4364 46.2820... #> 3   24       42     774    3 POLYGON ((-116.728 46.27374... #> 4   26       42    2916    3 POLYGON ((-117.653 46.29874... #> 5   38       41    1608    6 POLYGON ((-116.7114 46.1987... #> 6   44       41     834    6 POLYGON ((-116.7614 46.2404... #> 7   58       42    1251    3 POLYGON ((-117.8864 46.2320... #> 8   70       32    1371    4 POLYGON ((-117.4447 46.2154... #> 9   76       42    3930    3 POLYGON ((-117.453 46.21541... #> 10 107       31    1490    5 POLYGON ((-116.8614 46.1987...  # if you want to see the extent of the continental raster # note that the Olympic peninsula and BC get so much rain they essentially # swamps the colors of all other areas in plots. cont <- terra::rast(  file.path(     system.file(package=\"eSTZwritR\"), \"extdata\", 'GAI-cont.tif') ) terra::plot(cont)"},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/regionCoding.html","id":null,"dir":"Reference","previous_headings":"","what":"Determine which interior regions the STZ should be marked with — regionCoding","title":"Determine which interior regions the STZ should be marked with — regionCoding","text":"function helps determine Interior Regions coincide majority empirical seed transfer zone used naming file.","code":""},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/regionCoding.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Determine which interior regions the STZ should be marked with — regionCoding","text":"","code":"regionCoding(x, n)"},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/regionCoding.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Determine which interior regions the STZ should be marked with — regionCoding","text":"x empirical STZ vector data. n sample size determining interior regions cover area stz defaults 1000, sizes couple thousand seem gratuitous.","code":""},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/regionCoding.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Determine which interior regions the STZ should be marked with — regionCoding","text":"list vector dataframe. vector lists component filename, two interior regions separated '-'. dataframe contains count number randomly drawn points intersect interior regions. areas near ties recommend increasing sample size argument, n paseed st:sample.","code":""},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/regionCoding.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Determine which interior regions the STZ should be marked with — regionCoding","text":"","code":"acth7 <- sf::st_read(file.path(   system.file(package=\"eSTZwritR\"), \"extdata\", 'ACTH7.gpkg') ) #> Reading layer `ACTH7' from data source  #>   `/home/runner/work/_temp/Library/eSTZwritR/extdata/ACTH7.gpkg'  #>   using driver `GPKG' #> Simple feature collection with 4967 features and 4 fields #> Geometry type: MULTIPOLYGON #> Dimension:     XY #> Bounding box:  xmin: -121.5447 ymin: 36.53208 xmax: -111.0114 ymax: 46.35708 #> Geodetic CRS:  WGS 84  rc <- regionCoding(acth7) #> although coordinates are longitude/latitude, st_sample assumes that they are #> planar rc$SuggestedName # name suggestions #> [1] \"CPN-CGB\" rc$RegionsCovered # number of random points in each DOI region #>   REG_ABB   n #> 1     CPN 455 #> 2     CGB 414 #> 3     UCB 125"},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/regions.html","id":null,"dir":"Reference","previous_headings":"","what":"Unified interior region boundaries — regions","title":"Unified interior region boundaries — regions","text":"data set contains , slightly simplified, 12 department interior regions. data simplified save disk space, use cartographic purposes analysis, except region coding. imported directly silently regionCoding function determine geographic areas append file name. data sourced US Department Interior (DOI) https://www.doi.gov/employees/reorg/unified-regional-boundaries. However, 'REB_ABB' variable, ultimately used eSTZwritR, derived officially sanctioned abbreviation USDOI.","code":""},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/regions.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Unified interior region boundaries — regions","text":"data frame/tibble/sf 3 rows 2 columns: REG_NUM Region number REG_NAME Region name REG_ABB Unofficial 2-3-letter region abbreviation geometry sf geometry column","code":""},{"path":"https://sagesteppe.github.io/eSTZwritR/reference/regions.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Unified interior region boundaries — regions","text":"","code":"regions <- sf::st_read( file.path(    system.file(package=\"eSTZwritR\"),  \"extdata\", 'regions.gpkg'  ) ) #> Reading layer `regions' from data source  #>   `/home/runner/work/_temp/Library/eSTZwritR/extdata/regions.gpkg'  #>   using driver `GPKG' #> Simple feature collection with 12 features and 3 fields #> Geometry type: MULTIPOLYGON #> Dimension:     XY #> Bounding box:  xmin: -179.2257 ymin: -14.59707 xmax: 179.8597 ymax: 71.44106 #> Geodetic CRS:  WGS 84 plot(regions[,1]) # those aren't errors - they are some far flung pacific islands.  plot(regions[1:10,1]) # more continental of a focus."}]
